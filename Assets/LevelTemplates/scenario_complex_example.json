{
  "levelName": "Complex_Scenario_ABC",
  "difficulty": "Hard",
  
  "description": "Complex scenario: A vomits → B,C escape → B hits C outside → Teacher cleans vomit → Escort B,C → Only B returns, C refuses → Teacher calms B → Escort C again → C returns",
  
  "influenceScopeSettings": {
    "description": "Influence scope configuration",
    "disruptionPenaltyPerUnresolvedSource": 10.0,
    "eventScopes": {
      "MessCreated": {
        "scope": "WholeClass",
        "baseSeverity": 0.85,
        "description": "Vomit affects all students"
      },
      "ThrowingObject": {
        "scope": "SingleStudent",
        "baseSeverity": 0.7,
        "description": "Hitting affects only target"
      }
    }
  },
  
  "studentInteractions": [
    {
      "sourceStudent": "Student_B",
      "targetStudent": "Student_C",
      "eventType": "ThrowingObject",
      "triggerCondition": "Always",
      "probability": 1.0,
      "customSeverity": 0.8,
      "description": "Student_B always hits Student_C (100% chance, for testing)"
    }
  ],
  
  "goalSettings": {
    "maxDisruptionThreshold": 80,
    "catastrophicDisruptionLevel": 95,
    "timeLimitSeconds": 300,
    "requiredCalmDowns": 3,
    "requiredResolvedProblems": 2,
    
    "enableDisruptionTimeout": true,
    "disruptionTimeoutThreshold": 70,
    "disruptionTimeoutSeconds": 45,
    "disruptionTimeoutWarningSeconds": 15,
    
    "oneStarScore": 100,
    "twoStarScore": 300,
    "threeStarScore": 600
  },
  
  "students": [
    {
      "studentName": "Student_A",
      "position": { "x": -1.0, "y": 0.1, "z": 0 },
      "personality": {
        "patience": 0.2,
        "attentionSpan": 0.3,
        "impulsiveness": 0.8,
        "panicThreshold": 0.25,
        "influenceSusceptibility": 0.4,
        "influenceResistance": 0.1
      },
      "behaviors": {
        "canFidget": true,
        "canLookAround": true,
        "canStandUp": false,
        "canMoveAround": false,
        "canDropItems": true,
        "canKnockOverObjects": true,
        "canMakeNoiseWithObjects": true,
        "canThrowObjects": false,
        "minIdleTime": 0.5,
        "maxIdleTime": 2
      }
    },
    {
      "studentName": "Student_B",
      "position": { "x": 0, "y": 0.1, "z": 0 },
      "personality": {
        "patience": 0.4,
        "attentionSpan": 0.4,
        "impulsiveness": 0.7,
        "panicThreshold": 0.15,
        "influenceSusceptibility": 1.0,
        "influenceResistance": 0.0
      },
      "behaviors": {
        "canFidget": true,
        "canLookAround": true,
        "canStandUp": false,
        "canMoveAround": false,
        "canDropItems": true,
        "canKnockOverObjects": true,
        "canMakeNoiseWithObjects": true,
        "canThrowObjects": true,
        "minIdleTime": 1,
        "maxIdleTime": 3
      }
    },
    {
      "studentName": "Student_C",
      "position": { "x": 1.0, "y": 0.1, "z": 0 },
      "personality": {
        "patience": 0.5,
        "attentionSpan": 0.5,
        "impulsiveness": 0.5,
        "panicThreshold": 0.15,
        "influenceSusceptibility": 1.0,
        "influenceResistance": 0.0
      },
      "behaviors": {
        "canFidget": true,
        "canLookAround": true,
        "canStandUp": false,
        "canMoveAround": false,
        "canDropItems": false,
        "canKnockOverObjects": false,
        "canMakeNoiseWithObjects": true,
        "canThrowObjects": false,
        "minIdleTime": 2,
        "maxIdleTime": 5
      }
    }
  ],
  
  "routes": [
    {
      "routeName": "EscapeRoute",
      "routeType": "Escape",
      "waypoints": [
        { "waypointName": "Door", "position": { "x": 0, "y": 0, "z": 5 } },
        { "waypointName": "Outside", "position": { "x": 0, "y": 0, "z": 10 } }
      ]
    },
    {
      "routeName": "ReturnRoute",
      "routeType": "Return",
      "waypoints": [
        { "waypointName": "Door", "position": { "x": 0, "y": 0, "z": 5 } },
        { "waypointName": "Seat", "position": { "x": -2, "y": 0, "z": 0 } }
      ]
    }
  ],
  
  "expectedFlow": {
    "step1": "Student_A vomits (MessCreated) → WholeClass influence",
    "step2": "Student_B and Student_C affected → Both have source: A (vomit)",
    "step3": "Student_B and Student_C escalate to Critical → Both escape outside",
    "step4": "Student_B hits Student_C outside (SingleStudent) → C has 2 sources: A (vomit), B (hit)",
    "step5": "Teacher cleans vomit → MessCleaned event → A's sources resolved for B and C",
    "step6": "Teacher escorts Student_B → B has 0 unresolved sources → SUCCESS, B returns to seat",
    "step7": "Teacher escorts Student_C → C has 1 unresolved source (B) → FAILED, C returns to outdoor, +10 disruption",
    "step8": "Teacher interacts with Student_B (calm down) → StudentCalmed event → B's sources resolved for C",
    "step9": "Teacher escorts Student_C again → C has 0 unresolved sources → SUCCESS, C returns to seat",
    "result": "All students back in seats, scenario complete"
  }
}
